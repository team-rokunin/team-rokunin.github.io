"use strict";(self.webpackChunkwebkunin=self.webpackChunkwebkunin||[]).push([[651],{1202:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2131);\n/* harmony import */ var _mui_joy_Modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4916);\n/* harmony import */ var _mui_joy_Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2706);\n\n\n\n\nconst videoSize = [1920, 1080];\nconst VideoLightboxModal = (props) => {\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({ open: props.open });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (props.open && props.anchor) {\n            const anchor = props.anchor;\n            setState((state) => (Object.assign(Object.assign({}, state), { position: anchor.getBoundingClientRect(), children: props.children })));\n            const timeout = setTimeout(() => setState((state) => (Object.assign(Object.assign({}, state), { open: true }))), 160);\n            return () => clearTimeout(timeout);\n        }\n        else {\n            setState((state) => (Object.assign(Object.assign({}, state), { open: false })));\n            const timeout = setTimeout(() => setState((state) => (Object.assign(Object.assign({}, state), { position: undefined, children: undefined }))), 480);\n            return () => clearTimeout(timeout);\n        }\n    }, [props.open, props.anchor, props.children]);\n    const getFullscreen = () => {\n        const padding = 32;\n        const windowHeight = window.innerHeight - padding * 2;\n        const windowWidth = window.innerWidth - padding * 2;\n        if (windowHeight / windowWidth > videoSize[1] / videoSize[0]) {\n            const width = windowWidth;\n            const height = (videoSize[1] / videoSize[0]) * windowWidth;\n            return [width, height];\n        }\n        else {\n            const height = windowHeight;\n            const width = (windowHeight / videoSize[1]) * videoSize[0];\n            return [width, height];\n        }\n    };\n    const { onClose } = props;\n    const { open, position, children } = state;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .ZP, { in: open, timeout: 480 }, (state) => {\n        const fullscreen = getFullscreen();\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Modal__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z, { keepMounted: true, open: !['exited', 'exiting'].includes(state), onClose: onClose, sx: { visibility: state === 'exited' ? 'hidden' : 'visible' }, componentsProps: {\n                backdrop: {\n                    sx: {\n                        transition: ['opacity 160ms ease-in-out'].join(','),\n                        opacity: ['entered', 'entering'].includes(state) ? 1 : 0,\n                    },\n                },\n            } },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z, { sx: {\n                    position: 'absolute',\n                    transition: state !== 'exited'\n                        ? [\n                            `opacity 160ms ease-in-out ${state === 'entering' ? '' : '320ms'}`,\n                            ...['top', 'left', 'width', 'height'].map((property) => `${property} 320ms ease-in-out ${state === 'entering' ? '160ms' : ''}`),\n                        ].join(',')\n                        : 'none',\n                    top: ['entered', 'entering'].includes(state) ? `calc(50vh - ${fullscreen[1] / 2}px)` : position === null || position === void 0 ? void 0 : position.top,\n                    left: ['entered', 'entering'].includes(state) ? `calc(50vw - ${fullscreen[0] / 2}px)` : position === null || position === void 0 ? void 0 : position.left,\n                    width: ['entered', 'entering'].includes(state) ? fullscreen[0] : position === null || position === void 0 ? void 0 : position.width,\n                    height: ['entered', 'entering'].includes(state) ? fullscreen[1] : position === null || position === void 0 ? void 0 : position.height,\n                    opacity: ['entered', 'entering'].includes(state) ? 1 : 0,\n                } }, children)));\n    }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VideoLightboxModal);\n\n\n//# sourceURL=webpack://webkunin/./src/client/components/common/lightbox.tsx?")},3005:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"rO\": () => (/* binding */ crtTurnOffAnimation),\n  \"UR\": () => (/* binding */ crtTurnOnAnimation),\n  \"ZP\": () => (/* binding */ landing_page_hero_section)\n});\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(7294);\n// EXTERNAL MODULE: ./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\nvar emotion_react_browser_esm = __webpack_require__(917);\n// EXTERNAL MODULE: ./node_modules/@mui/joy/styles/ThemeProvider.js\nvar ThemeProvider = __webpack_require__(8629);\n// EXTERNAL MODULE: ./node_modules/@mui/joy/Box/Box.js + 1 modules\nvar Box = __webpack_require__(2706);\n// EXTERNAL MODULE: ./node_modules/@mui/joy/Typography/Typography.js + 1 modules\nvar Typography = __webpack_require__(1219);\n;// CONCATENATED MODULE: ./src/asset/vid/hero-section.mp4\n/* harmony default export */ const hero_section = (__webpack_require__.p + \"45d72bf860ad6aa22325a8cf7fb0f94e.mp4\");\n// EXTERNAL MODULE: ./src/client/store/screen.tsx\nvar screen = __webpack_require__(5231);\n// EXTERNAL MODULE: ./src/client/components/common/hook.ts\nvar hook = __webpack_require__(3007);\n;// CONCATENATED MODULE: ./src/client/components/landing-page/hero-section.tsx\n\n\n\n\n\n\n\n\nconst mouseScrollDownAnimation = emotion_react_browser_esm/* keyframes */.F4 `\n  0% {\n    opacity: 0;\n    transform: translateY(-18px);\n  },\n  40% {\n    opacity: 1;\n    transform: translateY(0);\n  },\n  60% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(18px);\n  }\n`;\nconst crtTurnOnAnimation = emotion_react_browser_esm/* keyframes */.F4 `\n  0% {\n    transform: scale(1, 0.8) translate3d(0, 0, 0);\n    filter: brightness(30);\n    opacity: 1;\n  }\n  3.5% {\n    transform: scale(1, 0.8) translate3d(0, 100%, 0);\n  }\n  3.6% {\n    transform: scale(1, 0.8) translate3d(0, -100%, 0);\n    opacity: 1;\n  }\n  9% {\n    transform: scale(1.3, 0.6) translate3d(0, 100%, 0);\n    filter: brightness(3);\n    opacity: 0;\n  }\n  11% {\n    transform: scale(1, 1) translate3d(0, 0, 0);\n    filter: contrast(0) brightness(0);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1) translate3d(0, 0, 0);\n    filter: contrast(1) brightness(1);\n    opacity: 1;\n  }\n`;\nconst crtTurnOffAnimation = emotion_react_browser_esm/* keyframes */.F4 `\n  0% {\n    transform: scale(1, 1.3) translate3d(0, 0, 0);\n    filter: brightness(1);\n    opacity: 1;\n  }\n  60% {\n    transform: scale(1.3, 0.001) translate3d(0, 0, 0);\n    filter: brightness(10);\n  }\n  100% {\n    animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n    transform: scale(0, 0.0001) translate3d(0, 0, 0);\n    filter: brightness(50);\n  }\n`;\nconst HeroSection = (props) => {\n    const [{ type: screenType }] = (0,screen/* useScreenState */.j)();\n    const [state, setState] = react.useState({\n        playState: 'loading',\n    });\n    const videoRef = react.useRef(null);\n    const containerRef = (0,hook/* useRefCallback */.C)((node) => {\n        if (props.onResize && node) {\n            const onResize = props.onResize;\n            onResize(node.getBoundingClientRect());\n            const resizeObserver = new ResizeObserver(() => {\n                onResize(node.getBoundingClientRect());\n            });\n            resizeObserver.observe(node);\n            return () => resizeObserver.disconnect();\n        }\n    });\n    react.useEffect(() => {\n        const video = videoRef.current;\n        if (state.playState === 'paused') {\n            video === null || video === void 0 ? void 0 : video.pause();\n        }\n        else if (state.playState === 'playing') {\n            video === null || video === void 0 ? void 0 : video.play();\n        }\n    }, [state.playState]);\n    const pauseResumeVideo = () => {\n        const video = videoRef.current;\n        if ((video === null || video === void 0 ? void 0 : video.ended) || (video === null || video === void 0 ? void 0 : video.paused)) {\n            setState((state) => (Object.assign(Object.assign({}, state), { playState: 'playing' })));\n        }\n        else {\n            setState((state) => (Object.assign(Object.assign({}, state), { playState: 'paused' })));\n        }\n    };\n    const onVideoLoaded = () => {\n        const video = videoRef.current;\n        if (video) {\n            setState((state) => (Object.assign(Object.assign({}, state), { playState: 'playing' })));\n        }\n    };\n    const onVideoEnded = () => {\n        const video = videoRef.current;\n        setState((state) => (Object.assign(Object.assign({}, state), { playState: 'stopped' })));\n        if (video) {\n            setState((state) => (Object.assign(Object.assign({}, state), { playState: 'playing' })));\n            video.play();\n        }\n    };\n    const theme = (0,ThemeProvider/* useTheme */.F)();\n    const { playState } = state;\n    return (react.createElement(Box/* default */.Z, { ref: containerRef, onClick: playState !== 'loading' ? pauseResumeVideo : undefined, sx: {\n            position: 'relative',\n            width: '100vw',\n            height: ['xs-phone', 'sm-tablet'].includes(screenType) ? '720px' : '960px',\n            cursor: playState !== 'loading' ? 'pointer' : 'default',\n            backgroundColor: 'black',\n            overflow: 'hidden',\n        } },\n        react.createElement(Box/* default */.Z, { component: \"video\", ref: videoRef, autoPlay: true, playsInline: true, muted: true, onLoadedData: onVideoLoaded, onEnded: onVideoEnded, sx: {\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover',\n                animation: playState === 'playing'\n                    ? `${crtTurnOnAnimation} 2.3s linear forwards`\n                    : playState === 'paused'\n                        ? `${crtTurnOffAnimation} 0.55s cubic-bezier(0.230, 1.000, 0.320, 1.000) forwards`\n                        : undefined,\n            } },\n            react.createElement(\"source\", { src: hero_section, type: \"video/mp4\" })),\n        react.createElement(Box/* default */.Z, { sx: {\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n                padding: ['xs-phone', 'sm-tablet'].includes(screenType) ? '0 46px' : '0 192px',\n                pointerEvents: 'none',\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'flex-end',\n                alignItems: 'stretch',\n            } },\n            react.createElement(Box/* default */.Z, { sx: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    gap: '8px',\n                    padding: '64px',\n                } },\n                react.createElement(Box/* default */.Z, { sx: {\n                        position: 'relative',\n                        width: '24px',\n                        height: '36px',\n                        border: `2px solid ${theme.palette.primary[600]}`,\n                        borderRadius: '12px',\n                        overflow: 'hidden',\n                    } },\n                    react.createElement(Box/* default */.Z, { sx: {\n                            position: 'absolute',\n                            top: '8px',\n                            left: 'calc(50% - 2.5px)',\n                            width: '5px',\n                            height: '5px',\n                            backgroundColor: theme.palette.primary[600],\n                            borderRadius: '2.5px',\n                            animation: `${mouseScrollDownAnimation} 2.4s infinite`,\n                        } })),\n                react.createElement(Typography/* default */.C, { level: \"body1\", sx: { fontSize: theme.typography.body3.fontSize, color: theme.palette.text.primary } }, \"scroll down\")))));\n};\n/* harmony default export */ const landing_page_hero_section = (HeroSection);\n\n\n//# sourceURL=webpack://webkunin/./src/client/components/landing-page/hero-section.tsx_+_1_modules?")},9651:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"T\": () => (/* binding */ VideoDemo),\n/* harmony export */   \"Z\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9655);\n/* harmony import */ var _mui_joy_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8629);\n/* harmony import */ var _mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2706);\n/* harmony import */ var _mui_joy_Typography__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(1219);\n/* harmony import */ var _store_screen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5231);\n/* harmony import */ var _store_portfolio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9358);\n/* harmony import */ var _common_hook__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3007);\n/* harmony import */ var _common_color__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(3322);\n/* harmony import */ var _common_header_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8665);\n/* harmony import */ var _common_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4556);\n/* harmony import */ var _common_lightbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1202);\n/* harmony import */ var _hero_section__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3005);\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PortfolioSection = (props) => {\n    const [{ type: screenType }] = (0,_store_screen__WEBPACK_IMPORTED_MODULE_1__/* .useScreenState */ .j)();\n    const [{ videos }] = (0,_store_portfolio__WEBPACK_IMPORTED_MODULE_2__/* .usePortfolioState */ .h)();\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n        playing: [],\n        videoAnchors: {},\n    });\n    const containerRef = (0,_common_hook__WEBPACK_IMPORTED_MODULE_3__/* .useRefCallback */ .C)((node) => {\n        if (props.onResize && node) {\n            const onResize = props.onResize;\n            onResize(node.getBoundingClientRect());\n            const resizeObserver = new ResizeObserver(() => {\n                onResize(node.getBoundingClientRect());\n            });\n            resizeObserver.observe(node);\n            return () => resizeObserver.disconnect();\n        }\n    });\n    const playingVideoRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const videosLength = ['xs-phone'].includes(screenType) ? 2 : 4;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (state.playing.length !== videosLength) {\n            const playing = Array(videosLength)\n                .fill(undefined)\n                .map(() => (Math.random() > 0.25 ? true : false));\n            if (playing.every((playing) => !playing)) {\n                playing[Math.floor(Math.random() * videosLength)] = true;\n            }\n            setState((state) => (Object.assign(Object.assign({}, state), { playing })));\n            setTimeout(playAll, 1000);\n        }\n        startRandomlyPause();\n    }, []);\n    const randomlyPause = () => {\n        setState((state) => {\n            const playing = [...state.playing];\n            const index = Math.floor(Math.random() * videosLength);\n            playing[index] = !playing[index];\n            return !playing.every((playing) => !playing) && Math.random() > 0.5\n                ? Object.assign(Object.assign({}, state), { playing }) : state;\n        });\n        setTimeout(playAll, 1000);\n        startRandomlyPause();\n    };\n    const playAll = () => setState((state) => (Object.assign(Object.assign({}, state), { playing: state.playing.map(() => true) })));\n    const startRandomlyPause = () => setTimeout(randomlyPause, Math.round(Math.random() * 3 + 6) * 1000);\n    const videoAnchors = react__WEBPACK_IMPORTED_MODULE_0__.useRef({});\n    const setVideoRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((link, node) => {\n        if (node) {\n            videoAnchors.current = Object.assign(Object.assign({}, videoAnchors.current), { [link]: node });\n        }\n    }, []);\n    const openVideoModal = (link) => {\n        setState((state) => (Object.assign(Object.assign({}, state), { modal: { type: 'video', link } })));\n        setTimeout(() => {\n            var _a;\n            (_a = playingVideoRef.current) === null || _a === void 0 ? void 0 : _a.play();\n        }, 480);\n    };\n    const onCloseVideoModal = () => {\n        var _a;\n        (_a = playingVideoRef.current) === null || _a === void 0 ? void 0 : _a.pause();\n        onCloseModal();\n    };\n    const onCloseModal = () => setState((state) => (Object.assign(Object.assign({}, state), { modal: undefined })));\n    const navigatePortfolio = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__/* .useLinkClickHandler */ .gs)('/portfolio');\n    const theme = (0,_mui_joy_styles__WEBPACK_IMPORTED_MODULE_9__/* .useTheme */ .F)();\n    const { playing, modal } = state;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { ref: containerRef, sx: {\n                width: '100%',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                alignItems: 'center',\n                padding: ['xs-phone', 'sm-tablet'].includes(screenType) ? '46px 0' : '64px 192px',\n            } },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { sx: { padding: ['xs-phone', 'sm-tablet'].includes(screenType) ? '0 46px' : '0' } },\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_common_header_text__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z, { text: \"WE ARE ROKUNIN\" })),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Typography__WEBPACK_IMPORTED_MODULE_11__/* [\"default\"] */ .C, { level: \"h4\", sx: {\n                    color: theme.palette.text.secondary,\n                    padding: ['xs-phone', 'sm-tablet'].includes(screenType) ? '0 46px' : '0',\n                    margin: '64px auto',\n                    maxWidth: '952px',\n                    textAlign: 'center',\n                } }, \"PERSISTANCE IS OUR GUIDE\"),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Typography__WEBPACK_IMPORTED_MODULE_11__/* [\"default\"] */ .C, { level: \"body1\", sx: {\n                    color: theme.palette.text.secondary,\n                    padding: ['xs-phone', 'sm-tablet'].includes(screenType) ? '0 46px' : '0',\n                    margin: '64px auto',\n                    maxWidth: '952px',\n                    textAlign: 'center',\n                } }, \"We are an experienced game animation team based in Malaysia and have worked with various successful studios. Our team of animators and artists consists of highly talented people who are well-versed in their respective fields, capable of providing quality service and ensure your game stand out visually.\"),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { sx: {\n                    display: 'grid',\n                    gridTemplateColumns: ['xs-phone'].includes(screenType) ? '1fr' : 'repeat(2, 1fr)',\n                    gap: '64px',\n                    maxWidth: '1016px',\n                    margin: '96px auto 16px',\n                    padding: ['xs-phone', 'sm-tablet'].includes(screenType) ? '0 46px' : '0 32px',\n                } }, videos.slice(0, videosLength).map((demo, index) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { key: demo.title, onClick: () => openVideoModal(demo.video) },\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(VideoDemo, { ref: (video) => setVideoRef(demo.video, video), title: demo.title, video: demo.thumbnail, playState: playing[index] ? 'playing' : 'paused' }))))),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { sx: {\n                    display: 'flex',\n                    justifyContent: 'center',\n                    padding: ['xs-phone', 'sm-tablet'].includes(screenType) ? '0 46px' : '0',\n                    margin: '64px',\n                } },\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_common_button__WEBPACK_IMPORTED_MODULE_5__/* [\"default\"] */ .Z, { label: \"VIEW\", url: \"/portfolio\", onClick: navigatePortfolio }))),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_common_lightbox__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .Z, { open: (modal === null || modal === void 0 ? void 0 : modal.type) === 'video', onClose: onCloseVideoModal, anchor: (modal === null || modal === void 0 ? void 0 : modal.type) === 'video' ? videoAnchors.current[modal.link] : undefined }, (modal === null || modal === void 0 ? void 0 : modal.type) === 'video' ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { component: \"video\", ref: playingVideoRef, controls: true, playsInline: true, sx: {\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover',\n                outline: 'none',\n            } },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"source\", { src: modal.link, type: \"video/mp4\" }))) : undefined)));\n};\nconst VideoDemo = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props, ref) => {\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n        playState: 'loading',\n        controlled: false,\n    });\n    const videoRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (!state.controlled && !['loading', 'stopped'].includes(state.playState)) {\n            setState((state) => (Object.assign(Object.assign({}, state), { playState: props.playState })));\n        }\n    }, [props.playState, state.playState, state.controlled]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        const video = videoRef.current;\n        if (state.playState === 'paused') {\n            video === null || video === void 0 ? void 0 : video.pause();\n        }\n        else if (state.playState === 'playing') {\n            video === null || video === void 0 ? void 0 : video.play();\n        }\n    }, [state.playState]);\n    const onVideoLoaded = () => {\n        const video = videoRef.current;\n        if (video) {\n            setState((state) => (Object.assign(Object.assign({}, state), { playState: props.playState })));\n        }\n    };\n    const onVideoEnded = () => {\n        const video = videoRef.current;\n        setState((state) => (Object.assign(Object.assign({}, state), { playState: 'stopped' })));\n        if (video) {\n            setState((state) => (Object.assign(Object.assign({}, state), { playState: 'playing' })));\n            video.play();\n        }\n    };\n    const onMouseEvent = (event) => {\n        switch (event.type) {\n            case 'mouseenter':\n                if (!['loading', 'stopped'].includes(state.playState)) {\n                    setState((state) => (Object.assign(Object.assign({}, state), { playState: 'playing', controlled: true })));\n                }\n                break;\n            case 'mouseleave':\n                if (!['loading', 'stopped'].includes(state.playState)) {\n                    setState((state) => (Object.assign(Object.assign({}, state), { playState: props.playState, controlled: false })));\n                }\n                break;\n        }\n    };\n    const theme = (0,_mui_joy_styles__WEBPACK_IMPORTED_MODULE_9__/* .useTheme */ .F)();\n    const { video } = props;\n    const { playState } = state;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { ref: ref, onMouseEnter: onMouseEvent, onMouseLeave: onMouseEvent, sx: {\n            position: 'relative',\n            height: '240px',\n            cursor: playState !== 'loading' ? 'pointer' : 'default',\n            overflow: 'hidden',\n            backgroundColor: 'rgb(0, 0, 0)',\n            opacity: playState === 'playing' ? 1 : 0.2,\n            transition: 'opacity 3s ease-in-out',\n            ['& .filter']: {\n                transition: 'background-color 160ms ease-in-out',\n                backgroundColor: theme.palette.primary[400].replace(...(0,_common_color__WEBPACK_IMPORTED_MODULE_12__/* .replaceRGBAlpha */ .M)(0.2)),\n            },\n            ['&:hover .filter']: {\n                backgroundColor: theme.palette.primary[400].replace(...(0,_common_color__WEBPACK_IMPORTED_MODULE_12__/* .replaceRGBAlpha */ .M)(0)),\n            },\n        } },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { component: \"video\", ref: videoRef, autoPlay: true, playsInline: true, muted: true, onLoadedData: onVideoLoaded, onEnded: onVideoEnded, sx: {\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover',\n                animation: playState === 'playing'\n                    ? `${_hero_section__WEBPACK_IMPORTED_MODULE_7__/* .crtTurnOnAnimation */ .UR} 2.3s linear forwards`\n                    : playState === 'paused'\n                        ? `${_hero_section__WEBPACK_IMPORTED_MODULE_7__/* .crtTurnOffAnimation */ .rO} 0.55s cubic-bezier(0.230, 1.000, 0.320, 1.000) forwards`\n                        : undefined,\n            } },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"source\", { src: video, type: \"video/mp4\" })),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { className: \"filter\", sx: {\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n                transition: 'background-color 160ms ease-in-out',\n                zIndex: 1,\n            } }),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { sx: {\n                position: 'absolute',\n                width: '100%',\n                height: '100%',\n                opacity: playState === 'playing' ? 1 : 0,\n                transition: 'opacity 160ms ease-in-out',\n                zIndex: 2,\n            } }, [\n            ['top', 'left'],\n            ['top', 'right'],\n            ['bottom', 'left'],\n            ['bottom', 'right'],\n        ].map((directions) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_joy_Box__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z, { key: directions.toString(), sx: Object.assign(Object.assign({ position: 'absolute', width: '16px', height: '16px' }, directions.reduce((sx, direction) => (Object.assign(Object.assign({}, sx), { [direction]: '8px' })), {})), directions.reduce((sx, direction) => (Object.assign(Object.assign({}, sx), { [`border${direction[0].toUpperCase()}${direction.slice(1)}`]: `2px solid ${theme.palette.text.primary}` })), {})) }))))));\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PortfolioSection);\n\n\n//# sourceURL=webpack://webkunin/./src/client/components/landing-page/portfolio-section.tsx?")}}]);